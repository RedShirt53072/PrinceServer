# 管理者/運営向け説明
Prince Serverの運営の皆さま、お疲れ様です。  
ここでは赤シャツからプラグインのサーバー管理機能について説明します。

# サーバー制作方針
* マインクラフトの幅広いユーザー層を受け入れる。
* ユーザーフレンドリーなインターフェースを提供する。
* 運営には人手をかけず、できる限りシステムで管理する。
* ユーザーには必要なだけの情報を正確に明瞭に届ける。

### 具体的には...
* バニラのサバイバル以上の前提知識はすべてチュートリアルで説明する。
* バニラのサバイバルと同じ操作を機能のトリガーにする。
* 機能は全てコマンド入力の必要ないGUIの操作画面を用意する。
* ユーザーに送るエラーメッセージでは、エラー内容の説明よりどうするべきかの説明をする。

## サーバー運営方針
* すべてのプレイヤーを尊重し、全員が楽しめるように運営する
* プレイヤーの良心を信じ、良心的な行動を引き出す

### 警告メッセージ
ルールに抵触しそうな行為を検知するとプラグインから自動的に警告メッセージがプレイヤーに対して出されます。
ログは出力されるので後からたどることも可能です。ただ、基本的に運営がリアルタイムで関与する必要はありません。 

### BAN等の処罰
ルールに抵触する行為を行った場合は、罰則規定に従って罰則を決めます。
罰則は以下4段階(+処罰期間の調整)で運用します。
1. マイクラの短期間BAN(1週間以内)  
マイクラ内での少々のルール違反。それやったらダメなんやでっていうレベル。
2. マイクラの中期間BAN(1ヶ月以内)とdiscordタイムアウト  
discordでのルール違反、もしくはマイクラ内でのまあまあの違反。それやられたら普通に困るからしばらく頭冷やしときっていうレベル。
3. プレイヤー認証を取り消す形の長期BAN(数ヶ月)。discordをキックし、また入ってきてもBAN期間中は再認証しない。 
大きめの違反。そういうことやるんやったらもう来ないでもらえる？レベル。
4. マイクラの永続BANとdiscordBAN  
重大な違反。迷惑だからもう二度と来ないでくださいレベル。

1～3はその後の釈明申し立てによって必要に応じて解除や期間短縮を行うことがあります。
4は明らかにプレイヤーとして遊ぶ気のない人間(=攻撃者)に適用します。
そのため、4のみは釈明申し立ても受け付けませんし、プレイヤーとしての尊重の対象外です。  

BAN通告はdiscordのDM(もしくはBAN情報の公開チャンネル)で行います。
内容は以下の通りです。
* 処罰内容(処罰種類とその期間)
* 理由となった行為
* 処罰の根拠のルール
* 説教メッセージ(できるだけ更生を促すように)
* 釈明申し立て方法についての説明

### 処罰への釈明申し立て
用意されたフォームから送れるようにします。
フォームはできるだけ選択式にして、システム的に処理しやすくしましょう。
申し立てに対して解除や期間短縮は柔軟に行いましょう。

### メンテナンス
メンテナンスが必要になっても、緊急でない限りはいつも同じ時間帯に行います。

## マイクラサーバー管理方針
Prince Serverは以下の方針の下で運営されています  
* サーバー管理はできる限りコンソールから行う  
* サーバー管理はメンテナンス状態にしている時に行う  

もちろん緊急を要する場合はユーザー及びサーバー全体の利益を優先する必要がありますが、できる限りは基本方針に則って行動しましょう。

## 管理システム仕様
上記の方針に則って管理機能はメンテナンス中でないと使えない設計となっています。
プレイヤーへの警告などは基本的に管理システム(GrowthAPI)が自動的に行いますので、

### メンテナンス
プレイヤーは全てキックされ、後述の権限をコンソールから付与された場合プレイヤーのみがログイン可能になります。

### 管理権限
権限には以下の2種類があります。
* growth.op
growthAPIの管理用機能の使用に必要な権限です。
この権限を有効化するとメンテナンス時にログインし、管理コマンドの実行ができるようになります。  
configに登録があれば、メンテナンス時以外でもエラーログなどがマイクラ内で通知されます。
* メンテナンス時ログイン権限
メンテナンス時にログインし、通常通りのプレイのみが可能になる権限です。

どちらのパーミッションも、事前にconfigにユーザー名とUUIDを登録しておく必要があります。
登録済みのプレイヤーにはメンテナンス時にコンソールから付与できますが、メンテナンスが解除されるかサーバーが再起動されると自動で権限は剝奪されます。
バニラのOP権限はgrowth.opの権限が既に付与されているプレイヤーにのみ、コンソールから付与できます。自動剝奪についてはgrowth.opと同じ仕様となっています。

## コンソール用コマンド一覧
### /OP
* /op \<player\>  
プレイヤーにバニラOP権限を付与します。プレイヤーは既にgrowth.op権限を有効化されている必要があります。


